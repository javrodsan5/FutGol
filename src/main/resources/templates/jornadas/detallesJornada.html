<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      th:replace="~{fragments/layout :: layout (~{::body},'detallesJornada')}">

<body>
<script>
    function cambiarFormacion(formacion) {
        var jugadores = document.getElementsByClassName("player")
        for (i = 0; i < jugadores.length; i++) {
            var clase = jugadores[i].className

            if (clase.includes('433')) {
                jugadores[i].className = clase.replace('433', formacion);
            } else if (clase.includes('442')) {
                jugadores[i].className = clase.replace('442', formacion);
            } else if (clase.includes('352')) {
                jugadores[i].className = clase.replace('352', formacion);
            } else {
                jugadores[i].className = clase.replace('532', formacion);
            }

        }
    }
</script>

<h1 th:if="${ultimaJornada}">Última jornada:</h1>
<h2 th:object="${jornada}"> Jornada <b th:text="*{numeroJornada}"></b></h2>

<div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="true">
        Jornadas
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">

        <li th:each="jornada : ${jornadas}"><a id=url th:text="*{jornada.numeroJornada}"
                                               th:href="@{/jornada/{idJornada} (idJornada= ${jornada.id})}"></a></li>
    </ul>
</div>
<br><br>
<div th:if="${noOnce}">
    <h1>No existe todavía once ideal de esta jornada.</h1>
</div>

<div>
    <div th:if="${!noOnce}">
        <div th:object="${jornada}">
            <div th:if="*{formacion}=='4-3-3'">
                <script>
                    $(document).ready(function () {
                        cambiarFormacion('433')
                    });
                </script>
            </div>
            <div th:if="*{formacion}=='3-5-2'">
                <script>
                    $(document).ready(function () {
                        cambiarFormacion('352')
                    });
                </script>
            </div>
            <div th:if="*{formacion}=='5-3-2'">
                <script>
                    $(document).ready(function () {
                        cambiarFormacion('532')
                    });
                </script>
            </div>

            <div style="float: right; display: inline-block; margin-left: 15%">
                <h1>Mejor jugador de la jornada</h1>
                <div class="caja" style="float: right;">
                    <div style="display: inline-block;float: left;">
                        <br><br>
                        <h1><b th:text="*{mejorJugador.jugador.name}"></b></h1>
                        <h1><b th:text="*{mejorJugador.puntos}"></b> puntos</h1>

                    </div>
                    <div style="display: inline-block;float: left;">
                        <br>
                        <img th:src="*{mejorJugador.jugador.foto}"><br><br><br>
                    </div>
                </div>
            </div>

            <div style="display: inline-block;float: right;width: 55%;">
                <div class="field">
                    <div class="grass"></div>
                    <div class="map">
                        <div class="outline"></div>
                        <div class="midline"></div>
                        <div class="midcircle"></div>
                        <div class="spot_center"></div>
                        <div class="leftgoals"></div>
                        <div class="left_goal"></div>
                        <div class="left_circle-area"></div>
                        <div class="left_goals_little"></div>
                        <div class="spot_left"></div>
                        <div class="right_goal"></div>
                        <div class="rightgoals"></div>
                        <div class="right_circle-area"></div>
                        <div class="right_goals_little"></div>
                        <div class="spot_right"></div>
                    </div>

                    <div class="player p1" th:object="${jornada.jugadores[0]}">
                        <img th:src="*{foto}" class="image--cover img-responsive">
                        <br>
                        <div class="message-container--player"><p class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[0].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p2-442" th:object="${jornada.jugadores[1]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[1].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p3-442" th:object="${jornada.jugadores[2]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[2].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p4-442" th:object="${jornada.jugadores[3]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[3].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p5-442" th:object="${jornada.jugadores[4]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[4].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p6-442" th:object="${jornada.jugadores[5]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[5].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p7-442" th:object="${jornada.jugadores[6]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[6].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p8-442" th:object="${jornada.jugadores[7]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[7].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p9-442" th:object="${jornada.jugadores[8]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[8].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p10-442" th:object="${jornada.jugadores[9]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[9].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                    <div class="player p11-442" th:object="${jornada.jugadores[10]}">
                        <div style="display: inline-block;">
                            <img th:src="*{foto}" class="image--cover img-responsive">
                        </div>
                        <div class="message-container--player" style="display: inline-block; margin-left: 15%"><p
                                class="message--player" th:text="*{name}"></p></div>
                        <div class="info">
                            <div style="display:inline-block;float: left">
                                <h2 th:text="*{name}"></h2>
                                <h4>Estado: <b th:text="*{estadoLesion}"></b></h4>
                                <h4>Valor: <b th:text="*{valor}"></b> mill. €</h4>
                                <h4>Puntos: <b th:text="*{puntos}"></b>pts</h4>
                                <div th:each="e, it : ${jornada.jugadores[10].estadisticas}"
                                     th:if="${it.index >= it.size-5}">
                                    <b>
                                        <h4 style="display: inline-block"><p
                                                th:text="${e.partido.jornada.numeroJornada}"></p></h4>
                                    </b>
                                    <div class="circulo"><p th:text="${e.puntos}"></p></div>
                                </div>
                            </div>
                            <img style="display:inline-block; float: right" th:src="*{foto}" width="30%" height="30%">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div th:object="${jornada}">

        <div style="display: inline-block;float: left;">
            <table id="partidos" class="table table-striped">
                <thead>
                <tr>
                    <th>Equipo Local</th>
                    <th>Equipo Visitante</th>
                    <th>Resultado</th>
                    <th>Fecha</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="partido : *{partidos}">
                    <td><a th:href="@{/equiposLiga/{nombreEquipo} (nombreEquipo= ${partido.equipoLocal.name})}"
                           th:text="${partido.equipoLocal.name}"/>
                    <td><a th:href="@{/equiposLiga/{nombreEquipo} (nombreEquipo= ${partido.equipoVisitante.name})}"
                           th:text="${partido.equipoVisitante.name}"/>
                    <td th:text="${partido.resultado}"/>
                    <td th:text="${partido.fecha}"/>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>
</body>
</html>
